<!DOCTYPE html>
<html lang="en">
<head>
      	<meta charset="utf-8">
  	<meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1'>
  	<meta name="viewport" content="width=device-width, initial-scale=1">

  	<link rel="icon" href="/favicon.ico">
  	<link rel="apple-touch-icon" href="/favicon-152.png">
  	<link rel="apple-touch-icon-precomposed" href="/favicon-152.png">
    <link rel="mask-icon" href="/favicon-safari-pin.svg" color="#fc7e0f">  
  	<meta name="msapplication-TileColor" content="#fc7e0f">
		<meta name="msapplication-TileImage" content="/favicon-144.png">
    <meta property="fb:pages" content="119474488131346" />

  	<link href="/stylesheets/bootstrap.min.css" rel="stylesheet" />
  	

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <title>Rob Li.co Photos | Japan September 2015</title>
    <meta property="og:title" content="Japan September 2015" />
    <meta property="og:type" content="website" />
    <script>
      document.registerElement = undefined;
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/javascripts/onsen/ons-core.js"></script><script src="/javascripts/react/react.min.js"></script><script src="/javascripts/react/JSXTransformer.js"></script>

    <!-- CSS dependencies -->
    
    <link href="/stylesheets/onsen/onsenui.css" rel="stylesheet" /><link href="/stylesheets/onsen/onsen-css-components.css" rel="stylesheet" />

    <style>
      img {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        max-width: 85%;
        margin: auto;
        transform: translate3d(0, -10%, 0);
      }

      .navigation-bar {
        background-color: #fc7e0f;
      }

      .navigation-bar__center {
        color: #fafafa;
      }

      .prev-button {
        position: absolute;
        font-size: 30px;
        left: 30px;
        bottom: 20px;
        color: #fc7e0f;
        z-index: 1;
      }

      .next-button {
        position: absolute;
        font-size: 30px;
        right: 30px;
        bottom: 20px;
        color: #fc7e0f;
        z-index: 1;
      }

      .refresh-button {
        position: absolute;
        font-size: 30px;
        right: 50%;
        bottom: 20px;
        color: #fc7e0f;
        z-index: 1;
        transform: translate3d(50%, 0, 0);
      }

      .refresh-button--loading > ons-icon {
        -webkit-animation:spin 1s ease-in infinite;
        -moz-animation:spin 1s ease-in infinite;
        animation:spin 1s ease-in infinite;
      }

      @-moz-keyframes spin { 100% { -moz-transform: rotate(360deg); } }
      @-webkit-keyframes spin { 100% { -webkit-transform: rotate(360deg); } }
      @keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }

    </style>

    <!-- --------------- App init --------------- -->

    <script type="text/jsx">
        /** @jsx React.DOM */

        var PictureList = React.createClass({

          getInitialState: function(){

            // The pictures array will be populated via AJAX, and
            // the favorites one when the user clicks on an image:

            return {
              pictures: [],
              loading: false
            };
          },

          componentDidMount: function(){
            // When the component loads, refresh the images.
            this.refresh();
          },

          componentDidUpdate: function(){
            this.refs.carousel.refresh();
          },

          prev: function() {
            this.refs.carousel.prev();
          },

          next: function() {
            this.refs.carousel.next();
          },

          refresh: function() {
            var self = this;

            // API endpoint for Instagram's popular images for the day
            // var url = 'https://api.instagram.com/v1/media/popular?client_id=' + this.props.apiKey + '&callback=?';

            // Empty the current array. This will trigger a render.
            this.setState({pictures: [], loading: true});

            // Fetch some new images.
            // $.getJSON(url, function(result){
            //   if(!result || !result.data || !result.data.length){
            //       return;
            //   }

            //   var pictures = result.data.map(function(p){
            //     return {
            //         id: p.id,
            //         url: p.link,
            //         src: p.images.low_resolution.url,
            //         title: p.caption ? p.caption.text : ''
            //     };
            //   });

            //   // Update the component's state. This will trigger a render.
            //   self.setState({pictures: pictures, loading: false});
            // });

            var pictures = [];
            var picLen = 31;
            var picURLPartial = "/images/photos/japan_sep_2015_";


            for (i = 0; i < picLen; i++) { 
              var picFileNumber = i + 1;
              var picID = {
                "id": i,
                "url": picURLPartial + picFileNumber + ".jpg",
                "src": picURLPartial + picFileNumber + ".jpg",
                "title": ""
              };
              console.log(picID);
              pictures.push(picID);
            };



              // Update the component's state. This will trigger a render.
              self.setState({pictures: pictures, loading: false});

          },

          render: function() {
              var refreshButton;

              // Make the refresh button spin and disabled it while loading.
              if (this.state.loading) {
                refreshButton = <div className="refresh-button refresh-button--loading">
                  <ons-icon icon="refresh"></ons-icon>
                </div>;
              }
              else {
                refreshButton = <div className="refresh-button" onClick={this.refresh}>
                  <ons-icon icon="refresh"></ons-icon>
                </div>;
              }

              return (
                <ons-carousel ref="carousel" swipeable fullscreen auto-scroll overscrollable>
                  <ons-icon class="prev-button" onClick={this.prev} icon="arrow-left"></ons-icon>
                  {refreshButton}
                  <ons-icon class="next-button" onClick={this.next} icon="arrow-right"></ons-icon>
                  {this.state.pictures.map(function(value) {
                    return <ons-carousel-item key={value.id}>
                        <img className="centered" key={value.id} src={value.src}></img>
                      </ons-carousel-item>
                  })}
                </ons-carousel>
              );
          }
      });

      // Renders the Carousel component, and add it to the content div.
      React.render(
        <PictureList apiKey="642176ece1e7445e99244cec26f4de1f" />,
        document.getElementById('content')
      );
    </script>
</head>

<body>
  <div class="container">
    	<div id="nav">
		<span id="home-button"><a href="/">Rob Li</a></span>
		<ul>
			<li><a href="/archive/">Blog</a></li>
			<li><a href="/photos/">Photos</a></li>
			<li><a href="/about/">About</a></li>
		</ul>
	</div>

  <ons-page>
    <ons-toolbar>
      <div class="center">Japan September 2015</div>
    </ons-toolbar>
    <div id="content"></div>
  </ons-page>

    <footer class="text-center x-small">
    <hr>
	<p>Â© 2010 - 2019 Robert Li. <a href="/privacy/">Privacy policy</a>.</p>
</footer>

  </div>
  <script src="/javascripts/jquery-1.11.3.min.js"></script>
<script src="/javascripts/bootstrap.min.js"></script>
<script src="/javascripts/bigfoot.min.js"></script>

<!-- 
Website last updated: 11 May 2019 at  7:15 PM. 
-->
</body>
</html>
